# インスタ映えする画像を判定する
### 情報工学実験Ⅲデータマイニング班 G2
## 概要
インスタグラム上にあげられている写真から、インスタ映えしている画像を取得。
インスタ映えしていないと思われる、自身の手料理写真などを含めたデータセットを用意し、kerasを用い教師あり学習を行い、インスタ映えするかどうかを判断させる。

## 各ディレクトリの説明
### e175764/
e175764が作成した学習モデルが入っているディレクトリ。また、set.jsonの例も入っている。
 * colorful.h5 :入力画像がカラフルかどうかを判定するモデル。
 * illust.h5 :入力画像がイラストか写真かを判定するモデル。
 * night.h5 :入力写真が夜景か暗い写真かを判定するモデル。
 * example_set.json :set.jsonの書き方の実例。

### e175723/
e175723が作成した学習モデルが入っているディレクトリ。また、実験発表時のプレゼン資料がある。
 * meian.h5 :入力画像が明るいか暗いかを判定するモデル。
 * データマイニング.pptx :プレゼン資料(PowerPoint)
 * データマイニング.pdf :プレゼン資料(PDF)
 
### e175730_imaeg/
これはモデル作成時に出力された、accとval_acc、lossとval_lossのグラフがある。今の所e175730のみ

### e175730_model/
e175730が作成した学習モデルが入っているディレクトリ。
 * building.h5 :建物の写真が映えるかどうかを判定するモデル。
 * cate.h5 :入力写真が「建物・動物・食べ物・景色」のどれに属するかを判定するモデル。
 * circle.h5 :入力された一品料理の写真が映えるかどうかを判定するモデル。
 * food_plate :入力された多品目料理が映えるかどうかを判定するモデル。
 * drink.h5 :入力された飲み物の写真が映えるかどうかを判定するモデル。
 * sweets.h5 :スイーツの写真が映えるかどうかを判定するモデル。
 * cate_food.h5 :食べ物を「一品料理・多品目料理・スイーツ」のどれに属するかを判定するモデル。

## 各コードの説明

### inflation.py
画像の水増し処理を行う。指定したディレクトリ(/user/instable/dataなど)にある、映えてる,映えてないなどで分けて保存されたjpg画像を読み込み、150*150のRGBに直し、その後角度を変えながら指定枚数分水増しをした画像を.sav形式で保存する。この際ディレクトリの名前が画像のラベルに用いられるため、注意が必要である。

### modeling.py
作成した.savを読み込み、ネットワークモデルはCNN。

### modeling.ipynb
作成したモデルでの分類結果を可視化するために作成したもの。

### set.json
modeling.pyやinflation.pyで、使うパスを設定するjsonファイル。

### my_pickle.py
python3のモジュールのpickleでは4GB以上のデータを扱うことができないため、
より大きな容量に対応するために作成(コード最上部にReferenceを記載)。

### instable.py
作成した複数のモデルを使って、入力された画像がインスタ映えするかどうかを判断する。
なお、作成したモデルは全てjsonファイルの指定パスから読み込んでいる。

## 使用したデータセットについて
今回しようしたインスタ映えしていると考えた画像は、Instagramから探したフォロワーの多い人物やタグなどから集めた。
インスタ映えしない画像として、飲み物、食べ物、景色などはgoogle画像検索から用いた。また食べ物はtwitterから#お料理下手くそ選手権　より画像を拝借させていただいた。


## 開発環境
 * python 3.7.1
 * jupyter 4.4.0
 * pandas 0.23.4
 * keras 2.2.4
 * numpy 1.15.4
 * matplotlib 3.0.2
